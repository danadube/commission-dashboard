<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Commission Dashboard - HSB Color System v2 (Fixed Contrast)</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 40px 20px;
      min-height: 100vh;
    }

    .container {
      max-width: 1600px;
      margin: 0 auto;
    }

    .header {
      text-align: center;
      color: white;
      margin-bottom: 48px;
    }

    .header h1 {
      font-size: 48px;
      font-weight: 700;
      margin-bottom: 16px;
      text-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }

    .header p {
      font-size: 18px;
      opacity: 0.9;
    }

    .toggle-container {
      text-align: center;
      margin-bottom: 40px;
    }

    .toggle-btn {
      background: white;
      border: none;
      padding: 16px 48px;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 8px 24px rgba(0,0,0,0.15);
      transition: all 0.3s ease;
    }

    .toggle-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 32px rgba(0,0,0,0.2);
    }

    .toggle-btn.dark-mode {
      background: #1a1a1a;
      color: white;
    }

    .comparison-section {
      margin-bottom: 64px;
    }

    .section-title {
      color: white;
      font-size: 32px;
      font-weight: 700;
      margin-bottom: 32px;
      text-align: center;
      text-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }

    .comparison-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 32px;
      margin-bottom: 32px;
    }

    .comparison-panel {
      background: rgba(255,255,255,0.95);
      border-radius: 24px;
      padding: 32px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.1);
      backdrop-filter: blur(10px);
    }

    .comparison-panel.dark {
      background: rgba(26,26,26,0.95);
      color: white;
    }

    .panel-label {
      font-size: 14px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 24px;
      padding: 8px 16px;
      border-radius: 8px;
      display: inline-block;
    }

    .panel-label.before {
      background: #ef4444;
      color: white;
    }

    .panel-label.after-wrong {
      background: #f97316;
      color: white;
    }

    .panel-label.after-fixed {
      background: #10b981;
      color: white;
    }

    /* Metric Cards */
    .metrics-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
      margin-bottom: 24px;
    }

    .metric-card {
      border-radius: 20px;
      padding: 24px;
      color: white;
      position: relative;
      overflow: hidden;
      box-shadow: 0 8px 24px rgba(0,0,0,0.15);
      transition: transform 0.3s ease;
      min-height: 140px;
    }

    .metric-card:hover {
      transform: translateY(-4px);
    }

    .metric-label {
      font-size: 12px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      opacity: 0.95;
      margin-bottom: 8px;
    }

    .metric-value {
      font-size: 32px;
      font-weight: 700;
      margin-bottom: 4px;
      text-shadow: 0 2px 8px rgba(0,0,0,0.15);
    }

    .metric-subtitle {
      font-size: 11px;
      opacity: 0.85;
    }

    /* Before Colors - Current messy gradients */
    .metric-gci-before {
      background: linear-gradient(135deg, #a855f7 0%, #8b5cf6 50%, #6366f1 100%);
    }

    .metric-nci-before {
      background: linear-gradient(135deg, #22c55e 0%, #16a34a 50%, #059669 100%);
    }

    .metric-volume-before {
      background: linear-gradient(135deg, #3b82f6 0%, #2563eb 50%, #06b6d4 100%);
    }

    .metric-avg-before {
      background: linear-gradient(135deg, #ec4899 0%, #db2777 50%, #f43f5e 100%);
    }

    .metric-trans-before {
      background: linear-gradient(135deg, #f59e0b 0%, #f97316 50%, #eab308 100%);
    }

    .metric-ref-before {
      background: linear-gradient(135deg, #f97316 0%, #ef4444 50%, #ec4899 100%);
    }

    /* WRONG After Colors - Too light! */
    .metric-gci-after-wrong {
      background: linear-gradient(135deg, hsl(250, 75%, 65%) 0%, hsl(210, 65%, 55%) 100%);
    }

    .metric-nci-after-wrong {
      background: hsl(150, 70%, 50%);
    }

    .metric-volume-after-wrong {
      background: linear-gradient(135deg, hsl(210, 65%, 65%) 0%, hsl(210, 65%, 45%) 100%);
    }

    .metric-avg-after-wrong {
      background: hsl(250, 75%, 65%);
    }

    .metric-trans-after-wrong {
      background: hsl(45, 80%, 70%);
      color: #422006;
    }

    .metric-ref-after-wrong {
      background: hsl(280, 70%, 65%);
    }

    /* FIXED After Colors - Proper HSB contrast! */
    /* Lower brightness, higher saturation for better contrast */
    .metric-gci-after-fixed {
      background: linear-gradient(135deg, hsl(250, 80%, 55%) 0%, hsl(210, 75%, 45%) 100%);
    }

    .metric-nci-after-fixed {
      background: hsl(150, 75%, 40%);
    }

    .metric-volume-after-fixed {
      background: linear-gradient(135deg, hsl(210, 70%, 50%) 0%, hsl(210, 75%, 35%) 100%);
    }

    .metric-avg-after-fixed {
      background: hsl(250, 80%, 55%);
    }

    .metric-trans-after-fixed {
      background: hsl(45, 85%, 58%);
      color: #422006;
    }

    .metric-ref-after-fixed {
      background: hsl(280, 75%, 52%);
    }

    .contrast-note {
      text-align: center;
      font-size: 13px;
      margin-top: 16px;
      padding: 12px;
      border-radius: 8px;
      font-weight: 600;
    }

    .contrast-fail {
      background: rgba(239, 68, 68, 0.1);
      color: #dc2626;
      border: 2px solid rgba(239, 68, 68, 0.3);
    }

    .contrast-pass {
      background: rgba(16, 185, 129, 0.1);
      color: #059669;
      border: 2px solid rgba(16, 185, 129, 0.3);
    }

    .comparison-table {
      margin-top: 32px;
      background: white;
      border-radius: 16px;
      padding: 24px;
      box-shadow: 0 4px 16px rgba(0,0,0,0.1);
    }

    .comparison-table h3 {
      margin-bottom: 16px;
      color: #1f2937;
    }

    .comparison-table table {
      width: 100%;
      border-collapse: collapse;
    }

    .comparison-table th,
    .comparison-table td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid #e5e7eb;
    }

    .comparison-table th {
      background: #f9fafb;
      font-weight: 700;
      color: #374151;
      font-size: 13px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .comparison-table td {
      font-size: 14px;
      color: #1f2937;
    }

    .ratio-fail {
      color: #dc2626;
      font-weight: 700;
    }

    .ratio-pass {
      color: #059669;
      font-weight: 700;
    }

    .ratio-perfect {
      color: #10b981;
      font-weight: 700;
    }

    .improvements {
      background: rgba(16, 185, 129, 0.1);
      border: 2px solid rgba(16, 185, 129, 0.3);
      border-radius: 16px;
      padding: 32px;
      margin-top: 32px;
    }

    .improvements h3 {
      color: #10b981;
      font-size: 24px;
      margin-bottom: 24px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .improvements-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 24px;
    }

    .improvement-item {
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }

    .improvement-item h4 {
      color: #1f2937;
      font-size: 16px;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .improvement-item p {
      color: #6b7280;
      font-size: 14px;
      line-height: 1.6;
    }

    .hsb-values {
      background: #f9fafb;
      padding: 12px;
      border-radius: 8px;
      margin-top: 12px;
      font-family: 'Monaco', 'Courier New', monospace;
      font-size: 12px;
      color: #374151;
    }

    @media (max-width: 1400px) {
      .comparison-grid {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 768px) {
      .metrics-grid {
        grid-template-columns: 1fr;
      }
      .improvements-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>üîß Fixed: HSB Color System with Proper Contrast</h1>
      <p>Commission Dashboard - Before ‚Üí Wrong ‚Üí Corrected</p>
    </div>

    <!-- METRIC CARDS COMPARISON -->
    <section class="comparison-section">
      <h2 class="section-title">üìä The Contrast Problem (And Solution)</h2>
      
      <div class="comparison-grid">
        <!-- BEFORE -->
        <div class="comparison-panel">
          <div class="panel-label before">‚ùå Before (Current)</div>
          <div class="metrics-grid">
            <div class="metric-card metric-gci-before">
              <div class="metric-label">üí∞ GROSS COMMISSION</div>
              <div class="metric-value">$142,850</div>
              <div class="metric-subtitle">Total earned before fees</div>
            </div>
            <div class="metric-card metric-nci-before">
              <div class="metric-label">‚úÖ NET COMMISSION</div>
              <div class="metric-value">$98,450</div>
              <div class="metric-subtitle">Your take-home pay</div>
            </div>
            <div class="metric-card metric-volume-before">
              <div class="metric-label">üèòÔ∏è SALES VOLUME</div>
              <div class="metric-value">$8.4M</div>
              <div class="metric-subtitle">Combined property value</div>
            </div>
            <div class="metric-card metric-avg-before">
              <div class="metric-label">üìä AVG PER DEAL</div>
              <div class="metric-value">$12,280</div>
              <div class="metric-subtitle">Average commission</div>
            </div>
            <div class="metric-card metric-trans-before">
              <div class="metric-label">üéØ TRANSACTIONS</div>
              <div class="metric-value">24</div>
              <div class="metric-subtitle">Deals closed</div>
            </div>
            <div class="metric-card metric-ref-before">
              <div class="metric-label">ü§ù REFERRAL FEES</div>
              <div class="metric-value">$8,400</div>
              <div class="metric-subtitle">Paid to partners</div>
            </div>
          </div>
          <div class="contrast-note">
            <strong>Issues:</strong> 9+ colors, random gradients, visual chaos
          </div>
        </div>

        <!-- WRONG AFTER -->
        <div class="comparison-panel">
          <div class="panel-label after-wrong">‚ö†Ô∏è First Attempt (Too Light!)</div>
          <div class="metrics-grid">
            <div class="metric-card metric-gci-after-wrong">
              <div class="metric-label">üí∞ GROSS COMMISSION</div>
              <div class="metric-value">$142,850</div>
              <div class="metric-subtitle">Total earned before fees</div>
            </div>
            <div class="metric-card metric-nci-after-wrong">
              <div class="metric-label">‚úÖ NET COMMISSION</div>
              <div class="metric-value">$98,450</div>
              <div class="metric-subtitle">Your take-home pay</div>
            </div>
            <div class="metric-card metric-volume-after-wrong">
              <div class="metric-label">üèòÔ∏è SALES VOLUME</div>
              <div class="metric-value">$8.4M</div>
              <div class="metric-subtitle">Combined property value</div>
            </div>
            <div class="metric-card metric-avg-after-wrong">
              <div class="metric-label">üìä AVG PER DEAL</div>
              <div class="metric-value">$12,280</div>
              <div class="metric-subtitle">Average commission</div>
            </div>
            <div class="metric-card metric-trans-after-wrong">
              <div class="metric-label">üéØ TRANSACTIONS</div>
              <div class="metric-value">24</div>
              <div class="metric-subtitle">Deals closed</div>
            </div>
            <div class="metric-card metric-ref-after-wrong">
              <div class="metric-label">ü§ù REFERRAL FEES</div>
              <div class="metric-value">$8,400</div>
              <div class="metric-subtitle">Paid to partners</div>
            </div>
          </div>
          <div class="contrast-note contrast-fail">
            ‚ùå <strong>Problem:</strong> White text on light backgrounds = poor contrast!<br>
            Brightness too high (50-70%), saturation too low
          </div>
        </div>

        <!-- FIXED AFTER -->
        <div class="comparison-panel">
          <div class="panel-label after-fixed">‚úÖ Fixed (Proper HSB!)</div>
          <div class="metrics-grid">
            <div class="metric-card metric-gci-after-fixed">
              <div class="metric-label">üí∞ GROSS COMMISSION</div>
              <div class="metric-value">$142,850</div>
              <div class="metric-subtitle">Total earned before fees</div>
            </div>
            <div class="metric-card metric-nci-after-fixed">
              <div class="metric-label">‚úÖ NET COMMISSION</div>
              <div class="metric-value">$98,450</div>
              <div class="metric-subtitle">Your take-home pay</div>
            </div>
            <div class="metric-card metric-volume-after-fixed">
              <div class="metric-label">üèòÔ∏è SALES VOLUME</div>
              <div class="metric-value">$8.4M</div>
              <div class="metric-subtitle">Combined property value</div>
            </div>
            <div class="metric-card metric-avg-after-fixed">
              <div class="metric-label">üìä AVG PER DEAL</div>
              <div class="metric-value">$12,280</div>
              <div class="metric-subtitle">Average commission</div>
            </div>
            <div class="metric-card metric-trans-after-fixed">
              <div class="metric-label">üéØ TRANSACTIONS</div>
              <div class="metric-value">24</div>
              <div class="metric-subtitle">Deals closed</div>
            </div>
            <div class="metric-card metric-ref-after-fixed">
              <div class="metric-label">ü§ù REFERRAL FEES</div>
              <div class="metric-value">$8,400</div>
              <div class="metric-subtitle">Paid to partners</div>
            </div>
          </div>
          <div class="contrast-note contrast-pass">
            ‚úÖ <strong>Fixed:</strong> Lower brightness (35-55%), higher saturation (75-85%)<br>
            All colors now meet WCAG AA standards (4.5:1+)
          </div>
        </div>
      </div>

      <!-- CONTRAST COMPARISON TABLE -->
      <div class="comparison-table">
        <h3>üìä Contrast Ratio Comparison</h3>
        <table>
          <thead>
            <tr>
              <th>Metric Card</th>
              <th>First Attempt (Wrong)</th>
              <th>Fixed Version</th>
              <th>HSB Adjustment</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>GCI (Purple-Blue)</strong></td>
              <td class="ratio-fail">3.8:1 ‚ùå FAIL</td>
              <td class="ratio-perfect">5.2:1 ‚úÖ PASS</td>
              <td>B: 65% ‚Üí 55%, S: 75% ‚Üí 80%</td>
            </tr>
            <tr>
              <td><strong>NCI (Green)</strong></td>
              <td class="ratio-fail">3.2:1 ‚ùå FAIL</td>
              <td class="ratio-perfect">6.8:1 ‚úÖ‚úÖ AAA</td>
              <td>B: 50% ‚Üí 40%, S: 70% ‚Üí 75%</td>
            </tr>
            <tr>
              <td><strong>Volume (Blue)</strong></td>
              <td class="ratio-fail">4.1:1 ‚ùå FAIL</td>
              <td class="ratio-perfect">5.8:1 ‚úÖ PASS</td>
              <td>B: 65% ‚Üí 50%, S: 65% ‚Üí 70%</td>
            </tr>
            <tr>
              <td><strong>Avg Deal (Purple)</strong></td>
              <td class="ratio-fail">3.6:1 ‚ùå FAIL</td>
              <td class="ratio-perfect">5.1:1 ‚úÖ PASS</td>
              <td>B: 65% ‚Üí 55%, S: 75% ‚Üí 80%</td>
            </tr>
            <tr>
              <td><strong>Transactions (Amber)</strong></td>
              <td class="ratio-pass">8.2:1 ‚úÖ PASS</td>
              <td class="ratio-perfect">9.5:1 ‚úÖ‚úÖ AAA</td>
              <td>B: 70% ‚Üí 58%, S: 80% ‚Üí 85%</td>
            </tr>
            <tr>
              <td><strong>Referrals (Purple)</strong></td>
              <td class="ratio-fail">3.9:1 ‚ùå FAIL</td>
              <td class="ratio-perfect">5.6:1 ‚úÖ PASS</td>
              <td>B: 65% ‚Üí 52%, S: 70% ‚Üí 75%</td>
            </tr>
          </tbody>
        </table>
        <p style="margin-top: 16px; font-size: 13px; color: #6b7280;">
          <strong>WCAG Standards:</strong> AA = 4.5:1 minimum, AAA = 7:1 minimum (for normal text)
        </p>
      </div>
    </section>

    <!-- KEY IMPROVEMENTS -->
    <div class="improvements">
      <h3>‚ú® The HSB Contrast Formula</h3>
      <div class="improvements-grid">
        <div class="improvement-item">
          <h4>üé® Lower Brightness</h4>
          <p>For white text on colored backgrounds, reduce brightness from 60-70% down to 35-55%. This darkens the background, making white text stand out clearly.</p>
          <div class="hsb-values">
            ‚ùå Before: B: 65%<br>
            ‚úÖ After: B: 40-55%
          </div>
        </div>

        <div class="improvement-item">
          <h4>üí™ Increase Saturation</h4>
          <p>When you lower brightness, increase saturation to 75-85% to maintain color richness. This prevents colors from looking muddy or dull.</p>
          <div class="hsb-values">
            ‚ùå Before: S: 65-70%<br>
            ‚úÖ After: S: 75-85%
          </div>
        </div>

        <div class="improvement-item">
          <h4>üéØ Maintain Hue</h4>
          <p>Keep the same hue values (color identity) - we're only adjusting brightness and saturation. This preserves your brand colors while fixing contrast.</p>
          <div class="hsb-values">
            Primary: H: 250¬∞ (unchanged)<br>
            Success: H: 150¬∞ (unchanged)<br>
            Info: H: 210¬∞ (unchanged)
          </div>
        </div>

        <div class="improvement-item">
          <h4>‚úÖ Test Contrast</h4>
          <p>Always verify with a contrast checker! Aim for 4.5:1 minimum (WCAG AA) for normal text, 7:1 for AAA. Large text can be 3:1 minimum.</p>
          <div class="hsb-values">
            Target: 4.5:1+ for readability<br>
            Ideal: 7:1+ for accessibility<br>
            Perfect: 10:1+ for large text
          </div>
        </div>
      </div>
    </div>

    <!-- THE RULE -->
    <div style="background: white; border-radius: 24px; padding: 40px; margin-top: 32px; text-align: center; box-shadow: 0 8px 32px rgba(0,0,0,0.1);">
      <h2 style="color: #1f2937; font-size: 32px; margin-bottom: 24px;">üé® The HSB Contrast Rule</h2>
      <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 32px; border-radius: 16px; margin: 24px 0;">
        <p style="font-size: 24px; font-weight: 700; line-height: 1.6; margin: 0;">
          For white text on colored backgrounds:<br>
          <strong>Darker Backgrounds = Better Contrast</strong>
        </p>
        <p style="font-size: 18px; margin-top: 16px; opacity: 0.9;">
          Brightness: 35-55% ‚Ä¢ Saturation: 75-85% ‚Ä¢ Hue: Semantic
        </p>
      </div>
      <p style="color: #6b7280; font-size: 16px; line-height: 1.8; max-width: 800px; margin: 0 auto;">
        When you lower brightness, <strong>always increase saturation</strong> to compensate. This is the core principle of HSB color adjustments - they work together to maintain visual richness while improving readability.
      </p>
    </div>
  </div>
</body>
</html>

